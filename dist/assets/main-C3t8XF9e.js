import{l,g as r,s as m}from"./utils-DM9Wm1Jm.js";import{D as u,T as v}from"./ExternalServices-zFhFygl3.js";async function p(){await l(),r(),m();const t=await new u().getRandomFact();document.querySelector("#fact").textContent=t;const d=await new v().getRandomPicture();document.querySelector("#picture").src=d}p();const c=document.getElementById("fact-card"),s=document.getElementById("picture-card"),o=document.querySelector(".overlay"),f=document.querySelector("#fact-close"),g=document.querySelector("#picture-close");c.addEventListener("click",()=>{c.classList.add("flipped","modal-active"),o.classList.add("active")});s.addEventListener("click",()=>{s.classList.add("flipped","modal-active"),o.classList.add("active")});f.addEventListener("click",e=>{e.stopPropagation(),c.classList.remove("flipped","modal-active"),o.classList.remove("active")});g.addEventListener("click",e=>{e.stopPropagation(),s.classList.remove("flipped","modal-active"),o.classList.remove("active")});o.addEventListener("click",()=>{c.classList.remove("flipped","modal-active"),o.classList.remove("active")});const a=document.querySelector("#lastVisit p"),i=window.localStorage.getItem("dd-lastvisit"),n=new Date;if(i==null)a.textContent="Welcome! We hope you find the information you need.";else{const e=new Date(i),t=Math.floor((n-e)/(1e3*60*60*24));t<1?a.textContent="It's good to see you back so soon!":t==1?a.textContent=`You last visited ${t} day ago.`:a.textContent=`You last visited ${t} days ago.`}localStorage.setItem("dd-lastvisit",n);const y=document.getElementById("lastVisit");document.getElementById("visitClose").addEventListener("click",function(e){e.preventDefault(),document.querySelector("main").removeChild(y)});
